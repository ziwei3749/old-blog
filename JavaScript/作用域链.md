# JavaScript的作用域链

## 词法作用域

***词法作用域一句话: 变量(函数)的作用域是在定义时决定的,而不是执行时决定的***

也叫静态作用域,JS除了with/eval都是遵循词法作用域的

JS引擎的执行步骤,肯定有很多步骤,而且不同JS引擎的实现也有一点区别,所以我们只需要掌握关键的2个步骤

- JS的解析(解析包括 词法分析 和 变量的预解析)
- JS的执行

案例1:
```
/*全局（window）域下的一段代码*/
function a(i) {
    var i;
    alert(i);
};
a(10);

```

案例2:
```
/*全局（window）域下的一段代码*/
function a(i) {
    alert(i);
    alert(arguments[0]); //arguments[0]应该就是形参 i
    var i = 2;
    alert(i);
    alert(arguments[0]);
};
a(10);

```

案例3:
```
/*全局（window）域下的一段代码*/
function a(i) {
    var i = i;
    alert(i);
};
a(10);
```

案例4:

```
/*全局（window）域下的一段代码*/
var i=10;
function a() {
    alert(i);
    var i = 2;
    alert(i);
};
a();
```
案例1、2、3中的形参i,实际就相当于在函数作用域内,第一行执行了var i,如果有实参传入10,就等于 var i = 10

关于词法作用域需要掌握几个知识点:

- JS引擎的执行机制,有2个关键步骤,就是解析和执行(解析包括了词法分析和变量预解析)
- 单独的函数就是一个作用域,内部变量无法被外部访问,变量在当前作用域没有定义,就会一直往上一级作用域寻找。
- 函数里,相同名字的实参、形参、变量是指向同一个内存空间的。